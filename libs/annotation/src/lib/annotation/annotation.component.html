<div class="gd-annotation"
     [style.left.px]="leftTop.left" [style.top.px]="leftTop.top"
     [style.width.px]="dimension.width ? dimension.width : undefined"
     [style.height.px]="dimension.height ? dimension.height : undefined"
     (click)="activation()">
  <div [draggable]="true" (dragover)="dragOver($event)" (dragstart)="dragStart($event)"
       (drag)="dragging($event)" (dragend)="dragging($event)" (drop)="dragOver($event)"
       (panstart)="dragStart($event)" (panmove)="dragging($event)"
       class="gd-annotation-wrapper" [ngClass]="getAnnotationClass()">
    <gd-context-menu *ngIf="active" [topPosition]="position.top" [textMenu]="isText()" [formatting]="getFormatting()"
                     (changeFormatting)="saveFormatting($event)" (removeItem)="remove()"
                     [translation]="getMenuShift()" [menuType]="getMenuType()" (comment)="addComment()"></gd-context-menu>
    <div class="gd-text-strikeout-line" *ngIf="isStrikeoutOrUnderline()"></div>
    <textarea class="gd-text" *ngIf="isTextReplacement() || isText()" [value]="data?.text"
              id="text" #text (keyup)="saveText(text.value)"
              [style.color]="data?.color"
              [style.font-family]="data?.font"
              [style.font-size.px]="data?.fontSize"
              [style.width.px]="dimension.width ? dimension.width : undefined"
              [style.height.px]="dimension.height ? dimension.height : undefined"></textarea>
    <div *ngIf="isPoint()" class="gd-point">
      <fa-icon class="icon" [icon]="['fas','thumbtack']" [size]="'lg'"></fa-icon>
    </div>
  </div>

  <gd-resizing [id]="id" *ngIf="active && !isSVG() && !isPoint()"
               (offsetX)="width($event)" (offsetY)="height($event)"
               (offsetTop)="top($event)" (offsetLeft)="left($event)"
               [se]="true" [sw]="true" [ne]="true" [nw]="true"
               [pageHeight]="pageHeight" [pageWidth]="pageWidth"></gd-resizing>
</div>
<svg *ngIf="isSVG()" class="svg" xmlns="http://www.w3.org/2000/svg">
  <polyline *ngIf="isPolyline()" [attr.id]="id" [attr.points]="pointsValue" [ngStyle]="setStyles()">
  </polyline>
  <path id="{{'gd-path-' + id}}" *ngIf="isPath()" [attr.d]="pathValue" [attr.marker-end]="bottom()"
        [attr.marker-start]="head()" [ngStyle]="setStyles()">
    <title *ngIf="isDistance()" [ngStyle]="distanceTextOptions()">{{ distanceValue }}</title>
  </path>
  <text *ngIf="isDistance()" [ngStyle]="distanceTextOptions()" [attr.x]="getTextX()"
        [attr.y]="0">
    <textPath [attr.href]="'#gd-path-' + id">
      {{ distanceValue }}
    </textPath>
  </text>
</svg>
